{"ast":null,"code":"import { __decorate } from \"tslib\";\nlet ShortUrlsComponent = class ShortUrlsComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.shortUrls = [];\n    this.newUrl = '';\n    this.errorMessage = '';\n    this.destroy$ = new Subject();\n  }\n  ngOnInit() {\n    this.loadShortUrls();\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  loadShortUrls() {\n    this.http.get('api/short-urls').pipe(takeUntil(this.destroy$)).subscribe(shortUrls => {\n      this.shortUrls = shortUrls;\n    });\n  }\n  addNewUrl() {\n    if (this.newUrl) {\n      this.http.post('api/short-urls', {\n        url: this.newUrl\n      }).pipe(takeUntil(this.destroy$)).subscribe(response => {\n        this.loadShortUrls();\n        this.newUrl = '';\n        this.errorMessage = '';\n      }, error => {\n        // Handle error, e.g., set error message\n        this.errorMessage = 'URL already exists.';\n      });\n    }\n  }\n  deleteUrl(id) {\n    this.http.delete(`api/short-urls/${id}`).pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.loadShortUrls();\n    });\n  }\n  viewDetails(id) {\n    this.router.navigate([`/short-url-info/${id}`]);\n  }\n};\nShortUrlsComponent = __decorate([Component({\n  selector: 'app-short-urls',\n  templateUrl: './short-urls.component.html',\n  styleUrls: ['./short-urls.component.css']\n})], ShortUrlsComponent);\nexport { ShortUrlsComponent };","map":{"version":3,"names":["ShortUrlsComponent","constructor","http","router","shortUrls","newUrl","errorMessage","destroy$","Subject","ngOnInit","loadShortUrls","ngOnDestroy","next","complete","get","pipe","takeUntil","subscribe","addNewUrl","post","url","response","error","deleteUrl","id","delete","viewDetails","navigate","__decorate","Component","selector","templateUrl","styleUrls"],"sources":["/Users/artur.zaiats/Documents/Projects/UrlWebApp/src/app/short-urls/short-urls.component.ts"],"sourcesContent":["@Component({\n  selector: 'app-short-urls',\n  templateUrl: './short-urls.component.html',\n  styleUrls: ['./short-urls.component.css'],\n})\nexport class ShortUrlsComponent implements OnInit, OnDestroy {\n  shortUrls: ShortUrl[] = [];\n  newUrl = '';\n  errorMessage = '';\n  private destroy$ = new Subject<void>();\n\n  constructor(private http: HttpClient, private router: Router) {}\n\n  ngOnInit(): void {\n    this.loadShortUrls();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  loadShortUrls(): void {\n    this.http\n      .get<ShortUrl[]>('api/short-urls')\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((shortUrls) => {\n        this.shortUrls = shortUrls;\n      });\n  }\n\n  addNewUrl(): void {\n    if (this.newUrl) {\n      this.http\n        .post<{ id: number }>('api/short-urls', { url: this.newUrl })\n        .pipe(takeUntil(this.destroy$))\n        .subscribe(\n          (response) => {\n            this.loadShortUrls();\n            this.newUrl = '';\n            this.errorMessage = '';\n          },\n          (error) => {\n            // Handle error, e.g., set error message\n            this.errorMessage = 'URL already exists.';\n          }\n        );\n    }\n  }\n\n  deleteUrl(id: number): void {\n    this.http\n      .delete(`api/short-urls/${id}`)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        this.loadShortUrls();\n      });\n  }\n\n  viewDetails(id: number): void {\n    this.router.navigate([`/short-url-info/${id}`]);\n  }\n}\n"],"mappings":";AAKA,IAAaA,kBAAkB,GAA/B,MAAaA,kBAAkB;EAM7BC,YAAoBC,IAAgB,EAAUC,MAAc;IAAxC,KAAAD,IAAI,GAAJA,IAAI;IAAsB,KAAAC,MAAM,GAANA,MAAM;IALpD,KAAAC,SAAS,GAAe,EAAE;IAC1B,KAAAC,MAAM,GAAG,EAAE;IACX,KAAAC,YAAY,GAAG,EAAE;IACT,KAAAC,QAAQ,GAAG,IAAIC,OAAO,EAAQ;EAEyB;EAE/DC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAC,WAAWA,CAAA;IACT,IAAI,CAACJ,QAAQ,CAACK,IAAI,EAAE;IACpB,IAAI,CAACL,QAAQ,CAACM,QAAQ,EAAE;EAC1B;EAEAH,aAAaA,CAAA;IACX,IAAI,CAACR,IAAI,CACNY,GAAG,CAAa,gBAAgB,CAAC,CACjCC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACT,QAAQ,CAAC,CAAC,CAC9BU,SAAS,CAAEb,SAAS,IAAI;MACvB,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B,CAAC,CAAC;EACN;EAEAc,SAASA,CAAA;IACP,IAAI,IAAI,CAACb,MAAM,EAAE;MACf,IAAI,CAACH,IAAI,CACNiB,IAAI,CAAiB,gBAAgB,EAAE;QAAEC,GAAG,EAAE,IAAI,CAACf;MAAM,CAAE,CAAC,CAC5DU,IAAI,CAACC,SAAS,CAAC,IAAI,CAACT,QAAQ,CAAC,CAAC,CAC9BU,SAAS,CACPI,QAAQ,IAAI;QACX,IAAI,CAACX,aAAa,EAAE;QACpB,IAAI,CAACL,MAAM,GAAG,EAAE;QAChB,IAAI,CAACC,YAAY,GAAG,EAAE;MACxB,CAAC,EACAgB,KAAK,IAAI;QACR;QACA,IAAI,CAAChB,YAAY,GAAG,qBAAqB;MAC3C,CAAC,CACF;;EAEP;EAEAiB,SAASA,CAACC,EAAU;IAClB,IAAI,CAACtB,IAAI,CACNuB,MAAM,CAAC,kBAAkBD,EAAE,EAAE,CAAC,CAC9BT,IAAI,CAACC,SAAS,CAAC,IAAI,CAACT,QAAQ,CAAC,CAAC,CAC9BU,SAAS,CAAC,MAAK;MACd,IAAI,CAACP,aAAa,EAAE;IACtB,CAAC,CAAC;EACN;EAEAgB,WAAWA,CAACF,EAAU;IACpB,IAAI,CAACrB,MAAM,CAACwB,QAAQ,CAAC,CAAC,mBAAmBH,EAAE,EAAE,CAAC,CAAC;EACjD;CACD;AAzDYxB,kBAAkB,GAAA4B,UAAA,EAL9BC,SAAS,CAAC;EACTC,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACWhC,kBAAkB,CAyD9B;SAzDYA,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}